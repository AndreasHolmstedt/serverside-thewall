{"ast":null,"code":"import _classCallCheck from \"/Users/andreasholmstedt/Desktop/SKOLA/TheWall/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/andreasholmstedt/Desktop/SKOLA/TheWall/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/andreasholmstedt/Desktop/SKOLA/TheWall/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/andreasholmstedt/Desktop/SKOLA/TheWall/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/andreasholmstedt/Desktop/SKOLA/TheWall/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/andreasholmstedt/Desktop/SKOLA/TheWall/client/src/components/SidebarRight/Groups/Groups.js\";\nimport React, { Component } from \"react\";\nimport \"./Groups.css\";\n\nvar Groups =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Groups, _Component);\n\n  function Groups() {\n    _classCallCheck(this, Groups);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Groups).apply(this, arguments));\n  }\n\n  _createClass(Groups, [{\n    key: \"joinGroup\",\n    value: function joinGroup(groupId, userId) {\n      var _this = this;\n\n      fetch(\"http://localhost:4000/api/group/\" + groupId + \"/join/\" + userId, {\n        method: \"PUT\"\n      }).then(function (res) {\n        return res.json();\n      }).then(function (data) {\n        console.log(data);\n\n        _this.props.refreshGroups();\n      });\n    }\n  }, {\n    key: \"leaveGroup\",\n    value: function leaveGroup(groupId, userId) {\n      var _this2 = this;\n\n      fetch(\"http://localhost:4000/api/group/\" + groupId + \"/leave/\" + userId, {\n        method: \"PUT\"\n      }).then(function (res) {\n        return res.json();\n      }).then(function (data) {\n        console.log(data);\n\n        _this2.props.refreshGroups();\n      });\n    }\n  }, {\n    key: \"isMember\",\n    value: function isMember(group) {\n      var isMember = false;\n\n      for (var i = 0; i < group.members.length; i++) {\n        if (group.members[i] === this.props.user._id) {\n          isMember = true;\n        }\n      }\n\n      return isMember;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(\"div\", {\n        className: \"onlineGroups\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }, \"All Groups\")), React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, this.props.groups.map(function (group) {\n        return React.createElement(\"li\", {\n          key: group._id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 44\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"left\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 45\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 46\n          },\n          __self: this\n        }, group.name), _this3.isMember(group) ? React.createElement(\"button\", {\n          onClick: function onClick() {\n            return _this3.leaveGroup(group._id, _this3.props.user._id);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 48\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 49\n          },\n          __self: this\n        }, \"Leave\")) : React.createElement(\"button\", {\n          onClick: function onClick() {\n            return _this3.joinGroup(group._id, _this3.props.user._id);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 51\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52\n          },\n          __self: this\n        }, \"Join\"))), React.createElement(\"div\", {\n          className: \"right\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 56\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57\n          },\n          __self: this\n        }, group.description)));\n      })));\n    }\n  }]);\n\n  return Groups;\n}(Component);\n\nexport default Groups;","map":{"version":3,"sources":["/Users/andreasholmstedt/Desktop/SKOLA/TheWall/client/src/components/SidebarRight/Groups/Groups.js"],"names":["React","Component","Groups","groupId","userId","fetch","method","then","res","json","data","console","log","props","refreshGroups","group","isMember","i","members","length","user","_id","groups","map","name","leaveGroup","joinGroup","description"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./Groups.css\";\r\n\r\nclass Groups extends Component {\r\n    joinGroup(groupId, userId) {\r\n        fetch(\"http://localhost:4000/api/group/\" + groupId + \"/join/\" + userId, { method: \"PUT\" })\r\n        .then( res => res.json())\r\n        .then( data => {\r\n            console.log(data)\r\n            this.props.refreshGroups()\r\n        })\r\n    }\r\n\r\n    leaveGroup(groupId, userId) {\r\n        fetch(\"http://localhost:4000/api/group/\" + groupId + \"/leave/\" + userId, { method: \"PUT\" })\r\n        .then( res => res.json())\r\n        .then( data => {\r\n            console.log(data)\r\n            this.props.refreshGroups()\r\n        })\r\n    }\r\n\r\n    isMember(group) {\r\n        let isMember = false;\r\n\r\n        for(let i = 0; i < group.members.length; i ++) {\r\n            if(group.members[i] === this.props.user._id) {\r\n                isMember = true;\r\n            }\r\n        }\r\n\r\n        return isMember;\r\n    }\r\n    \r\n    render() {\r\n        return (\r\n            <div className=\"onlineGroups\">\r\n                <div className=\"title\">\r\n                    <h3>All Groups</h3>\r\n                </div>\r\n                <ul>\r\n                    { this.props.groups.map( group => {\r\n                        return (\r\n                            <li key={group._id}>\r\n                                <div className=\"left\">\r\n                                    <p>{ group.name }</p>\r\n                                    { this.isMember(group)\r\n                                        ?   <button onClick={() => this.leaveGroup(group._id, this.props.user._id)}>\r\n                                                <p>Leave</p>\r\n                                            </button> \r\n                                        :   <button onClick={() => this.joinGroup(group._id, this.props.user._id)}>\r\n                                                <p>Join</p>\r\n                                            </button> \r\n                                    }\r\n                                </div>\r\n                                <div className=\"right\">\r\n                                    <p>{ group.description }</p>\r\n                                </div>\r\n                            </li>\r\n                        )\r\n                    })}\r\n                </ul>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Groups;"]},"metadata":{},"sourceType":"module"}